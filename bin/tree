#!/usr/bin/env bash

# Usage:
#   tree [level] [dir]
#   tree [dir]        (defaults to level 3)

# If the first arg is a number, treat it as depth.
if [[ "$1" =~ ^[0-9]+$ ]]; then
  level="$1"
  dir="${2:-.}"
else
  # Otherwise, treat the first arg as the directory.
  level="${2:-3}"
  dir="${1:-.}"
fi

# Run eza tree with git-ignored files hidden.
exec eza -a --git-ignore --tree --level="$level" --icons=always "$dir"
